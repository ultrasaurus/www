<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>streamlined geek talk</title>
    <link rel="stylesheet" href="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
  </head>
  <body>

    <!-- Start Top Bar -->
    <div class="top-bar">
      <div class="top-bar-left">
        <ul class="menu">
          <li><a href="/">The evolving ultrasaurus</a></li>
        </ul>
      </div>
      <div class="top-bar-right">
        <ul class="menu">
          <li><a href="/archives">Archives</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/speaking">Speaking</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </div>
    </div>
    <!-- End Top Bar -->

    <div class="row" id="content">
      <div class="medium-8 columns">
        
<h1>streamlined geek talk</h1>

<p><em>2009-07-16</em></p> 


<p>Last night <a href="http://www.rubyfocus.biz/">Wolfram Arnold</a> and I gave a talk at the SF Ruby Meetup about a recent collaboration where we created specs, documentation and tests using cucumber to streamline workflow and communication between client and server engineers.</p>
<p>It was Wolf’s idea to start the talk with a role play of the real-life situation that we were faced with at the outset of the project. He convinced me to do it as improv, which was a lot of fun, but for those who missed here’s the script that I had written out earlier:</p>
<blockquote>
<p><strong>Biz Guy</strong> (ring): Hey Pat, this is Charlie. I’ve got an investor pitch in the morning and I just tried the app on my Nokia phone and I’m no seeing search results any more. Can you look into it?<br>
<strong>Client Engineer</strong>: I haven’t touched the code in months. It must be the server code.</p>
<p><strong>Biz Guy</strong> (ring): Hi Sarah, this is Charlie. The mobile app isn’t working on my Nokia phone and Tony says he hasn’t changed the code in months. You said that server engineer you hired was really good, maybe he could fix it by tomorrow.<br>
<strong>Manager</strong>: hmmm… I’ll check.</p>
<p><strong>Manager</strong> (ring): Hey Wolf, this is Sarah. Did you make any changes lately that could have affected the mobile client?<br>
<strong>Server Engineer</strong>: No… none of the APIs have changed and all of the tests pass. In fact, the mobile app demo on the website works and that uses the same APIs, so it must be a client problem.</p>
<p><strong>Manager</strong> (ring): Hey Pat, this is Sarah. Glen told me the mobile app isn’t working, but the demo on the web does work. I understand they use the same APIs, so I’m guess the issue is in the mobile client code.<br>
<strong>Client Engineer</strong>: Actually, the mobile app uses a slightly different authentication than the app on the web<br>
<strong>Manager</strong>: Oh really, is that documented?<br>
<strong>Client Engineer</strong>: well, there is detailed documentation of the platform SDK that the mobile phone doesn’t support http header responses so the auth token needs to be sent back in the post body<br>
<strong>Manager</strong>: I see. Unfortunately, our server engineer isn’t actually familiar with the mobile platform SDK.</p>
</blockquote>
<p>This is a critical problem in my experience and a very common one. Whenever you have API documentation, it is usually incomplete, inaccurate or both, often despite the best intentions of everyone involved. In this case, we solved the problem of documenting and testing XML APIs by writing cucumber scenarios which serve as both the documentation and tests. By making the documentation executable with published results in a continuous integration system, we always have up to date documentation.</p>
<ul>
<li>Cucumber BDD framework: <a href="http://cukes.info/">http://cukes.info/</a> and<a href="http://wiki.github.com/aslakhellesoy/cucumber"> http://wiki.github.com/aslakhellesoy/cucumber</a> Webrat (gem)</li>
<li><a href="http://wiki.github.com/aslakhellesoy/cucumber/fixtures">Using DB fixtures in cucumber</a></li>
<li>Using XML fixtures to compare server response: <a href="http://github.com/mightyverse/xml_subset_matcher/tree/master">xmlsubsetmatcher library</a> (there’s a gem spec in the github repo, but it is not yet working as a gem)</li>
<li>Example: <a href="http://github.com/mightyverse/cucumber_xml/tree/master">http://github.com/mightyverse/cucumber_xml</a></li>
</ul>
<p>The slides from the talk are <a href="http://www.slideshare.net/sarah.allen/streamlined-geek-talk-1727826">posted on slideshare</a>:</p>
<div id="__ss_1727826" style="width: 425px;text-align: left">[Streamlined Geek Talk](http://www.slideshare.net/sarah.allen/streamlined-geek-talk-1727826 "Streamlined Geek Talk")<div style="font-size: 11px;font-family: tahoma,arial;height: 26px;padding-top: 2px">View more [presentations](http://www.slideshare.net/) from [Sarah Allen](http://www.slideshare.net/sarah.allen).</div></div>



<style>
.previous{display:inline-block;margin-left:.5em;margin-bottom:.5em}
.next{float:right;display:inline-block;margin-right:.5em;margin-bottom:.5em}
.assistive-text
</style>



<hr>
<nav id="nav-single" class="pager">
            <span class="previous"><a href="/2009/07/pair-programming-velocity/">← pair programming velocity</span></a>
            
			<span class="next"><a href="/2009/07/what-if-internet-kills-the-movie/" rel="next">what if internet kills the movie?→</span></a></span>
            

</nav>



      </div>
      <div class="medium-3 columns" data-sticky-container>
        <div class="sticky" data-sticky data-anchor="content">
          <h4>Categories</h4>
          <ul>
            <li><a href="#">Skyler</a></li>
            <li><a href="#">Jesse</a></li>
            <li><a href="#">Mike</a></li>
            <li><a href="#">Holly</a></li>
          </ul>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
    <script>
      $(document).foundation();
    </script>
  </body>
</html>



