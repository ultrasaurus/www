<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jekyll dektop app with node-webkit on osx</title>
    <link rel="stylesheet" href="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
    <style> 
        #content{padding:20px;margin-top:2rem;margin-left:.5rem}#content ul{padding-left:2em}.post-nav .previous{display:inline-block;margin-left:.5em;margin-bottom:.5em}.post-nav .next{float:right;margin-right:.5em;margin-bottom:.5em}.vertical-banner{float:right;padding-left:20px}/*# sourceMappingURL=styles.css.map */

    </style>
</head>

<body>

    <!-- Start Top Bar -->
    <div class="top-bar">
        <div class="top-bar-left">
            <ul class="menu">
                <li><a href="/">The evolving ultrasaurus</a></li>
            </ul>
        </div>
        <div class="top-bar-right">
            <ul class="menu">
                <li><a href="/archives">Archives</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/speaking">Speaking</a></li>
                <li><a href="/contact">Contact</a></li>
            </ul>
        </div>
    </div>
    <!-- End Top Bar -->

    <div class="row" id="content">
                
<h1>jekyll dektop app with node-webkit on osx</h1>

<p><em>April 26, 2014</em></p>


<p>I had an idea this morning that I could make a simple desktop app by combining the lightning-fast website generation capabilities of <a href="http://jekyllrb.com/">jekyll</a> with the awesome <a href="https://github.com/rogerwang/node-webkit">Node-Webkit</a> that lets us native wrappers for HTML5 apps. I checked out this <a href="https://speakerdeck.com/zcbenz/node-webkit-app-runtime-based-on-chromium-and-node-dot-js">nice intro to Node-Webkit</a>, and unsurprisingly ran into a few gotchas, documented below for other adventurer and my future self:</p>
<h2>Simple Website with Jekyll</h2>
<pre><code>
gem install jekyll
jekyll new experiment
cd experiment
jekyll serve
</code></pre>
<p>go to <a href="http://localhost:4000">http://localhost:4000</a><br>
you should see the default sample jekyll site</p>
<h2>Make a Native OSX App</h2>
<p>Download and install <a href="https://github.com/rogerwang/node-webkit">Node-Webkit pre-built binary</a></p>
<p>At the root of your jekyll site, create a file named “package.json”</p>
<pre><code>
{
  &quot;name&quot; : &quot;nwk-experiment&quot;,
  &quot;window&quot; : {
    &quot;width&quot; : 800,
    &quot;height&quot; : 600,
    &quot;toolbar&quot; : true
  },
  &quot;main&quot; : &quot;app://whatever/index.html&quot;
}
</code></pre>
<p>The <a href="https://github.com/rogerwang/node-webkit/wiki/App%20protocol">app root url</a> is a nice feature of node-webkit which makes it pretty easy to transport any website into this system of building a native app.</p>
<pre><code>
jekyll build  # creates the site
cd _site
zip -r ../app.nw * 
cd ..
</code></pre>
<p>Most tutorials tell you to zip the directory. The first time I tried, I got an Invalid package error “There is no ‘package.json’ in the package, please make sure the ‘package.json’ is in the root of the package.” On OSX, we need to zip the files from the root of the directory that had the ‘package.json file in it. (via <a href="https://github.com/rogerwang/node-webkit/issues/388">crashtheuniverse</a>)</p>
<h2>Run the App</h2>
<pre><code>
open -n -a node-webkit &quot;./app.nw&quot;
</code></pre>
<p>When I double-click on the app.nw file, I see the directory, not my index file. I haven’t figured out that part yet. Still a work in progress!</p>






<hr>
<nav class="post-nav">
    <span class="previous"><a href="/2014/06/learning-speak-spanish-actually-fun/">← could learning to speak spanish be actually fun?</span></a>
    
    <span class="next"><a href="/2014/03/day-day-life-presidential-innovation-fellow/" rel="next">day-to-day life of a presidential innovation fellow →</span></a></span>
    
</nav>



    </div>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
    <script>
        $(document).foundation();
    </script>
</body>

</html>