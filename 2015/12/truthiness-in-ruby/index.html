<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>truthiness in ruby</title>
    </head>
    <body>
        
<h1>truthiness in ruby</h1>

<p>I found myself confronting some unexpected truths in Ruby the other day…</p>
<p><code>&lt;br&gt;&lt;/br&gt;2.2.2 :001 &gt; 1 and 0&lt;br&gt;&lt;/br&gt; =&gt; 0&lt;br&gt;&lt;/br&gt;2.2.2 :002 &gt; 0 and 1&lt;br&gt;&lt;/br&gt; =&gt; 1&lt;br&gt;&lt;/br&gt;</code></p>
<p>In most programming languages, 0 is false and 1 is true, or more accurately we say that 1 is “truthy.” In popular culture, <a href="http://www.cc.com/video-clips/63ite2/the-colbert-report-the-word---truthiness">truthiness</a> is believing something to be true from gut feelings, rather than relying on those pesky facts. Google defines truthiness as “the quality of seeming or being felt to be true, even if not necessarily true.” This is closer to what programming languages mean. 1 is 1, but it treated as true if used within a conditional.</p>
<p><code>&lt;br&gt;&lt;/br&gt;2.2.0 :001 &gt; 1 == true&lt;br&gt;&lt;/br&gt; =&gt; false&lt;br&gt;&lt;/br&gt;2.2.0 :002 &gt; if 1&lt;br&gt;&lt;/br&gt;2.2.0 :003?&gt;   puts &quot;1 is truthy&quot;&lt;br&gt;&lt;/br&gt;2.2.0 :004?&gt; else&lt;br&gt;&lt;/br&gt;2.2.0 :005 &gt;   puts &quot;this doesn't happen&quot;&lt;br&gt;&lt;/br&gt;2.2.0 :006?&gt; end&lt;br&gt;&lt;/br&gt;1 is truthy</code></p>
<p>In Ruby, every number, every value is an instance of an object:</p>
<p><code>&lt;br&gt;&lt;/br&gt;2.2.0 :007 &gt; 1.class&lt;br&gt;&lt;/br&gt; =&gt; Fixnum&lt;br&gt;&lt;/br&gt;2.2.0 :008 &gt; true.class&lt;br&gt;&lt;/br&gt; =&gt; TrueClass&lt;br&gt;&lt;/br&gt;2.2.0 :009 &gt; &quot;potato&quot;.class&lt;br&gt;&lt;/br&gt; =&gt; String&lt;br&gt;&lt;/br&gt;</code></p>
<p>So every object, is a thing, which has a value and evaluates to true in a conditional expression, which means 0 is truthy…</p>
<p><code>&lt;br&gt;&lt;/br&gt;2.2.0 :001 &gt; if 0&lt;br&gt;&lt;/br&gt;2.2.0 :002?&gt;   puts &quot;0 is truthy&quot;&lt;br&gt;&lt;/br&gt;2.2.0 :003?&gt; else&lt;br&gt;&lt;/br&gt;2.2.0 :004 &gt;   puts &quot;never gets here&quot;&lt;br&gt;&lt;/br&gt;2.2.0 :005?&gt; end&lt;br&gt;&lt;/br&gt;0 is truthy&lt;br&gt;&lt;/br&gt;</code></p>
<p>So, both 0 and 1 will act like true in a conditional. <a href="https://twitter.com/MarmiteJunction/status/676464619708358656">@MarmiteJunction notes</a> that this works completely as expected:</p>
<p><code>&lt;br&gt;&lt;/br&gt;(1 and 0) ? true : false #true&lt;br&gt;&lt;/br&gt;(0 and 1) ? true : false #true&lt;br&gt;&lt;/br&gt;</code></p>
<p>The last piece of the puzzle is the behavior of <code>and</code> which is one of the “boolean operators” and I usually think about them as evaluating to true or false, but that’s not exactly how they work.</p>
<p><code>&lt;br&gt;&lt;/br&gt;2.2.0 :006 &gt; &quot;cat&quot; or &quot;dog&quot;&lt;br&gt;&lt;/br&gt; =&gt; &quot;cat&quot;&lt;br&gt;&lt;/br&gt;2.2.0 :007 &gt; &quot;nuts&quot; and &quot;berries&quot;&lt;br&gt;&lt;/br&gt; =&gt; &quot;berries&quot;&lt;br&gt;&lt;/br&gt;</code></p>
<p>Each of boolean expressions above are truthy, but are not <code>true</code>. The OR expression will return the first truthy value, and the AND expression will return the last one. In other contexts, I’m used to the commutative property of AND and OR, but in Ruby that’s not at all true:</p>
<p><code>&lt;br&gt;&lt;/br&gt;2.2.2 :001 &gt; 1 and 0&lt;br&gt;&lt;/br&gt; =&gt; 0&lt;br&gt;&lt;/br&gt;2.2.2 :002 &gt; 0 and 1&lt;br&gt;&lt;/br&gt; =&gt; 1&lt;br&gt;&lt;/br&gt;</code></p>
<p>hmmm.</p>

<hr>
<ul><li>Next: <a href="/2015/12/leadership-is-about-people/">leadership is about people</a></li><li>Previous: <a href="/2015/10/software-isnt-real/">software isn&amp;#8217;t real</a></li>
</ul>

    </body>
</html>